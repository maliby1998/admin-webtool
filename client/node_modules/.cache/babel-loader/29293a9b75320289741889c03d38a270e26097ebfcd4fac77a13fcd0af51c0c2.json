{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\\\\Desktop\\\\admin-webtool\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [selectedHosts, setSelectedHosts] = useState([]);\n  const [action, setAction] = useState('');\n  const [output, setOutput] = useState('');\n  const [computers, setComputers] = useState([]);\n  useEffect(() => {\n    fetch('http://192.170.2.212:3001/api/computers').then(res => res.json()).then(data => setComputers(data)).catch(err => console.error('Ошибка загрузки хостов:', err));\n  }, []);\n  const toggleHost = host => {\n    setSelectedHosts(prev => prev.includes(host) ? prev.filter(h => h !== host) : [...prev, host]);\n  };\n  const toggleSelectAll = () => {\n    if (selectedHosts.length === computers.length) {\n      setSelectedHosts([]);\n    } else {\n      setSelectedHosts(computers);\n    }\n  };\n  const isAllSelected = computers.length > 0 && selectedHosts.length === computers.length;\n  const runScript = async () => {\n    try {\n      const res = await axios.post('http://192.170.2.212:3001/run-script', {\n        hosts: selectedHosts,\n        action\n      });\n      setOutput(res.data);\n    } catch (err) {\n      setOutput(err.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '2rem'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Admin Web Tool\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0445\\u043E\\u0441\\u0442: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxHeight: '200px',\n        overflowY: 'auto',\n        border: '1px solid #ccc',\n        padding: '0.5rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: isAllSelected,\n            onChange: toggleSelectAll\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), computers.map((host, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            value: host,\n            checked: selectedHosts.includes(host),\n            onChange: () => toggleHost(host)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this), host]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"update-firefox:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"\\u041E\\u0431\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 Firefox\",\n      value: action,\n      onChange: e => setAction(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: runScript,\n      disabled: selectedHosts.length === 0 || !action,\n      children: \"\\u0412\\u044B\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u044C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n      children: output\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"PXe8jCutjlPf2T4OzaHBDU/clYM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","App","_s","selectedHosts","setSelectedHosts","action","setAction","output","setOutput","computers","setComputers","fetch","then","res","json","data","catch","err","console","error","toggleHost","host","prev","includes","filter","h","toggleSelectAll","length","isAllSelected","runScript","post","hosts","message","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","maxHeight","overflowY","border","type","checked","onChange","map","idx","value","placeholder","e","target","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Администратор/Desktop/admin-webtool/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction App() {\n  const [selectedHosts, setSelectedHosts] = useState([]);\n  const [action, setAction] = useState('');\n  const [output, setOutput] = useState('');\n  const [computers, setComputers] = useState([]);\n\n  useEffect(() => {\n    fetch('http://192.170.2.212:3001/api/computers')\n      .then(res => res.json())\n      .then(data => setComputers(data))\n      .catch(err => console.error('Ошибка загрузки хостов:', err));\n  }, []);\n\n  const toggleHost = (host) => {\n    setSelectedHosts(prev =>\n      prev.includes(host)\n        ? prev.filter(h => h !== host)\n        : [...prev, host]\n    );\n  };\n\n  const toggleSelectAll = () => {\n    if (selectedHosts.length === computers.length) {\n      setSelectedHosts([]);\n    } else {\n      setSelectedHosts (computers);\n    }\n  };\n\n  const isAllSelected = computers.length > 0 && selectedHosts.length === computers.length;\n\n  const runScript = async () => {\n    try {\n      const res = await axios.post('http://192.170.2.212:3001/run-script', {\n        hosts: selectedHosts,\n        action\n      });\n      setOutput(res.data);\n    } catch (err) {\n      setOutput(err.message);\n    }\n  };\n\n  return (\n    <div style={{ padding: '2rem' }}>\n      <h1>Admin Web Tool</h1>\n\n      <label>Выберите хост: </label>\n      <div style={{ maxHeight: '200px', overflowY: 'auto', border: '1px solid #ccc', padding: '0.5rem' }}>\n        <div>\n          <label>\n            <input\n              type=\"checkbox\"\n              checked={isAllSelected}\n              onChange={toggleSelectAll}\n            />\n          </label>\n        </div>\n        {computers.map((host, idx) => (\n          <div key={idx}>\n            <label>\n              <input\n                type=\"checkbox\"\n                value={host}\n                checked={selectedHosts.includes(host)}\n                onChange={() => toggleHost(host)}\n              />\n              {host}\n            </label>\n          </div>\n        ))}\n      </div>\n\n      <br />\n\n      <label>update-firefox:</label>\n      <input\n        placeholder=\"Обновление Firefox\"\n        value={action}\n        onChange={e => setAction(e.target.value)}\n      />\n\n      <br /><br />\n\n      <button onClick={runScript} disabled={selectedHosts.length === 0 || !action}>\n        Выполнить\n      </button>\n\n      <pre>{output}</pre>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}